---
title: 텔레그램에서 gram.js API를 이용한 모든 메시지에서 값 검색하기
date: 2023-09-25 20:00:00 +0900
categories:
  - JavaScript
tags:
  - gramAPI
---

## gram.js API란 무엇인가?

gram.js API는 텔레그램 메신저를 위한 Node.js 라이브러리입니다. 이 라이브러리를 이용하면 채팅방, 사용자, 미디어와 같은 텔레그램 데이터에 쉽게 접근할 수 있습니다. API는 '응용 프로그램 프로그래밍 인터페이스'의 약자로, 서로 다른 소프트웨어 간에 정보를 주고받을 수 있게 해주는 규칙과 도구의 모음입니다.

## 모든 메시지에서 특정 값 검색하는 방법

많은 사용자가 텔레그램의 모든 메시지에서 특정 값을 찾고 싶어합니다. gram.js API를 이용하면 이 작업을 쉽게 할 수 있습니다. 여기에서는 `messages.getDialogs`와 `messages.getHistory` 두 가지 메서드를 중점적으로 설명하겠습니다.

### messages.getDialogs 메서드 사용하기

1. 먼저 `messages.getDialogs` 메서드를 이용해 사용자의 모든 대화 목록을 가져옵니다.
2. 이 목록에서 원하는 채팅방이나 사용자를 선택합니다.

### messages.getHistory 메서드 사용하기

1. `messages.getDialogs`를 통해 선택한 채팅방이나 사용자를 대상으로 `messages.getHistory` 메서드를 호출합니다.
2. 이 메서드는 해당 대화의 메시지 기록을 가져옵니다.

### 검색 수행

1. `messages.getHistory`로 가져온 메시지에서 원하는 값이 있는지 검색합니다.
2. 값을 찾으면 해당 메시지의 정보를 저장하거나 다른 작업을 수행합니다.

## 주의사항

- 검색 속도를 높이려면 검색 범위를 제한하는 것이 좋습니다.
- `limit` 파라미터를 사용하여 한 번에 가져올 메시지 수를 제한할 수 있습니다.

## 에러 처리

단계를 따르다가 문제가 발생할 경우, 다음과 같은 에러가 발생할 수 있습니다.

- `FloodWaitError`: 너무 많은 요청으로 인한 에러입니다. 잠시 후에 다시 시도해야 합니다.
  
이 문제들은 적절한 에러 처리 로직을 구현하여 해결할 수 있습니다.

## 결론

gram.js API를 사용하면 텔레그램에서 간편하게 모든 메시지를 검색할 수 있습니다. `messages.getDialogs`와 `messages.getHistory` 메서드를 이용하면 원하는 데이터를 손쉽게 찾을 수 있습니다.