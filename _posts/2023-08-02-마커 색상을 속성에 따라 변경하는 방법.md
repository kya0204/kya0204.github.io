---
title: 마커 색상을 속성에 따라 변경하는 방법
date: 2023-08-02 20:00:00 +0900
categories:
  - JavaScript
tags:
  - 마커색상
---

## 문제 상황: 속성에 따른 마커 색상 변경이 필요함

개발자들이 대시보드나 지도에서 여러 위치를 표시할 때 종종 마커를 사용합니다. 그런데 이 마커들이 모두 같은 색상일 경우 사용자가 구분하기 어렵습니다. 이 문제를 해결하기 위해서는 마커의 색상을 해당 마커의 특정 속성에 따라 다르게 설정해야 합니다. 예를 들어, 온도나 고도 등의 수치에 따라 마커 색상을 다르게 표현할 수 있습니다.

## 솔루션: 조건문을 이용한 마커 색상 변경

일반적으로 마커 색상을 변경하려면 조건문을 사용합니다. 여러가지 프로그래밍 언어와 라이브러리에서 이를 구현할 수 있으나, 대표적으로 JavaScript의 Leaflet 라이브러리를 예로 들겠습니다.

```javascript
function getColor(d) {
    return d > 1000 ? '#800026' :
           d > 500  ? '#BD0026' :
           d > 200  ? '#E31A1C' :
           d > 100  ? '#FC4E2A' :
           d > 50   ? '#FD8D3C' :
           d > 20   ? '#FEB24C' :
           d > 10   ? '#FED976' :
                      '#FFEDA0';
}
```

위의 예시 코드에서 `getColor` 함수는 숫자 `d`를 입력 받아 해당하는 색상 코드를 리턴합니다. 이 함수를 이용하여 각 마커의 속성값에 따라 색상을 설정할 수 있습니다.

## 주의사항: 색상 선택의 중요성

색상을 선택할 때는 사용자 경험(UX)를 고려해야 합니다. 색상이 너무 비슷하면 사용자가 구분하기 어렵습니다. 또한, 적절한 색상 대비를 유지하여 시인성을 높여야 합니다. 예를 들어, 밝은 색상의 배경 위에는 어두운 색상의 마커를 사용하는 것이 좋습니다.

## 에러 및 디버깅: `TypeError: Cannot read property 'feature' of undefined`

이러한 기능을 구현하다 보면 자주 발생하는 에러 중 하나는 `TypeError: Cannot read property 'feature' of undefined`입니다. 이 에러는 보통 특정 객체나 배열이 아직 정의되지 않았을 때 발생합니다. 따라서 코드의 로직 흐름을 잘 확인하여 이러한 에러를 미리 방지해야 합니다.

## 요약

마커의 색상을 속성에 따라 변경하는 것은 사용자 경험을 향상시키는 중요한 요소입니다. 조건문을 이용하여 쉽게 구현할 수 있으며, 적절한 색상 선택과 디버깅을 통해 더 나은 결과를 얻을 수 있습니다.